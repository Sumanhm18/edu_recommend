[INFO] Scanning for projects...
[INFO] 
[INFO] ----------------------< com.education:education >-----------------------
[INFO] Building education 0.0.1-SNAPSHOT
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] >>> spring-boot:3.5.5:run (default-cli) > test-compile @ education >>>
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ education ---
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] Copying 0 resource from src/main/resources to target/classes
[INFO] 
[INFO] --- compiler:3.14.0:compile (default-compile) @ education ---
[INFO] Recompiling the module because of changed source code.
[INFO] Compiling 50 source files with javac [debug parameters release 17] to target/classes
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ education ---
[INFO] skip non existing resourceDirectory /Users/sumanhm/Downloads/education/src/test/resources
[INFO] 
[INFO] --- compiler:3.14.0:testCompile (default-testCompile) @ education ---
[INFO] Recompiling the module because of changed dependency.
[INFO] Compiling 1 source file with javac [debug parameters release 17] to target/test-classes
[INFO] 
[INFO] <<< spring-boot:3.5.5:run (default-cli) < test-compile @ education <<<
[INFO] 
[INFO] 
[INFO] --- spring-boot:3.5.5:run (default-cli) @ education ---
[INFO] Attaching agents: []
Standard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.5)

2025-09-21T21:29:40.567+05:30  INFO 90714 --- [education] [           main] c.e.education.EducationApplication       : Starting EducationApplication using Java 17.0.16 with PID 90714 (/Users/sumanhm/Downloads/education/target/classes started by sumanhm in /Users/sumanhm/Downloads/education)
2025-09-21T21:29:40.567+05:30 DEBUG 90714 --- [education] [           main] c.e.education.EducationApplication       : Running with Spring Boot v3.5.5, Spring v6.2.10
2025-09-21T21:29:40.568+05:30  INFO 90714 --- [education] [           main] c.e.education.EducationApplication       : No active profile set, falling back to 1 default profile: "default"
2025-09-21T21:29:40.813+05:30  INFO 90714 --- [education] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-21T21:29:40.872+05:30  INFO 90714 --- [education] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 4 JPA repository interfaces.
2025-09-21T21:29:41.052+05:30  INFO 90714 --- [education] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-09-21T21:29:41.057+05:30  INFO 90714 --- [education] [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-09-21T21:29:41.057+05:30  INFO 90714 --- [education] [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-09-21T21:29:41.075+05:30  INFO 90714 --- [education] [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-09-21T21:29:41.076+05:30  INFO 90714 --- [education] [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 495 ms
Standard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts
2025-09-21T21:29:41.092+05:30 DEBUG 90714 --- [education] [           main] c.e.education.config.JwtRequestFilter    : Filter 'jwtRequestFilter' configured for use
2025-09-21T21:29:41.126+05:30  INFO 90714 --- [education] [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-21T21:29:41.148+05:30  INFO 90714 --- [education] [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.26.Final
2025-09-21T21:29:41.159+05:30  INFO 90714 --- [education] [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-09-21T21:29:41.247+05:30  INFO 90714 --- [education] [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-21T21:29:41.256+05:30  INFO 90714 --- [education] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-09-21T21:29:41.316+05:30  INFO 90714 --- [education] [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2e85e3f1
2025-09-21T21:29:41.317+05:30  INFO 90714 --- [education] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-09-21T21:29:41.328+05:30  WARN 90714 --- [education] [           main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-21T21:29:41.334+05:30  INFO 90714 --- [education] [           main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.6
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-21T21:29:41.660+05:30  INFO 90714 --- [education] [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-21T21:29:41.811+05:30  INFO 90714 --- [education] [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-21T21:29:41.910+05:30  INFO 90714 --- [education] [           main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-21T21:29:42.319+05:30  WARN 90714 --- [education] [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-21T21:29:42.371+05:30 DEBUG 90714 --- [education] [           main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-09-21T21:29:42.401+05:30 DEBUG 90714 --- [education] [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-21T21:29:42.448+05:30  WARN 90714 --- [education] [           main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-09-21T21:29:42.517+05:30  INFO 90714 --- [education] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-09-21T21:29:42.521+05:30  INFO 90714 --- [education] [           main] c.e.education.EducationApplication       : Started EducationApplication in 2.082 seconds (process running for 2.202)
2025-09-21T21:29:42.547+05:30 DEBUG 90714 --- [education] [           main] org.hibernate.SQL                        : 
    /* select
        count(*) 
    from
        College x */ select
            count(*) 
        from
            colleges c1_0
College data already exists. Skipping initialization.
2025-09-21T21:29:42.552+05:30 DEBUG 90714 --- [education] [           main] org.hibernate.SQL                        : 
    /* select
        count(*) 
    from
        Quiz x */ select
            count(*) 
        from
            quizzes q1_0
2025-09-21T21:29:54.920+05:30  INFO 90714 --- [education] [0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-21T21:29:54.920+05:30  INFO 90714 --- [education] [0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-09-21T21:29:54.921+05:30  INFO 90714 --- [education] [0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-09-21T21:29:54.927+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/guest-login
2025-09-21T21:29:54.930+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-09-21T21:29:54.931+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/guest-login
2025-09-21T21:30:05.250+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /?id=b41a9330-652f-4428-8edf-363838806201&vscodeBrowserReqId=1758470405229
2025-09-21T21:30:05.252+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-09-21T21:30:05.253+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /?id=b41a9330-652f-4428-8edf-363838806201&vscodeBrowserReqId=1758470405229
2025-09-21T21:30:05.262+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error?id=b41a9330-652f-4428-8edf-363838806201&vscodeBrowserReqId=1758470405229
2025-09-21T21:30:05.262+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error?id=b41a9330-652f-4428-8edf-363838806201&vscodeBrowserReqId=1758470405229
2025-09-21T21:30:05.272+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-09-21T21:33:08.156+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-09-21T21:33:08.175+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-09-21T21:33:08.177+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-09-21T21:33:08.178+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-09-21T21:33:08.220+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-5] org.hibernate.SQL                        : 
    /* <criteria> */ select
        u1_0.user_id,
        u1_0.class_level,
        u1_0.created_at,
        u1_0.district,
        u1_0.email,
        u1_0.is_guest,
        u1_0.name,
        u1_0.password,
        u1_0.phone,
        u1_0.preferred_language,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-09-21T21:33:20.843+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-09-21T21:33:20.847+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-09-21T21:33:20.849+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-09-21T21:33:20.849+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-09-21T21:33:20.853+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-7] org.hibernate.SQL                        : 
    /* <criteria> */ select
        u1_0.user_id,
        u1_0.class_level,
        u1_0.created_at,
        u1_0.district,
        u1_0.email,
        u1_0.is_guest,
        u1_0.name,
        u1_0.password,
        u1_0.phone,
        u1_0.preferred_language,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-09-21T21:37:54.419+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/send-registration-otp
2025-09-21T21:37:54.425+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/send-registration-otp
2025-09-21T21:37:54.426+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-09-21T21:37:54.427+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/send-registration-otp
2025-09-21T21:37:54.454+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-9] org.hibernate.SQL                        : 
    /* <criteria> */ select
        u1_0.user_id,
        u1_0.class_level,
        u1_0.created_at,
        u1_0.district,
        u1_0.email,
        u1_0.is_guest,
        u1_0.name,
        u1_0.password,
        u1_0.phone,
        u1_0.preferred_language,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-09-21T21:38:12.628+05:30 DEBUG 90714 --- [education] [.0-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/send-registration-otp
2025-09-21T21:38:12.632+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/send-registration-otp
2025-09-21T21:38:12.633+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-09-21T21:38:12.634+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/send-registration-otp
2025-09-21T21:38:12.637+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-1] org.hibernate.SQL                        : 
    /* <criteria> */ select
        u1_0.user_id,
        u1_0.class_level,
        u1_0.created_at,
        u1_0.district,
        u1_0.email,
        u1_0.is_guest,
        u1_0.name,
        u1_0.password,
        u1_0.phone,
        u1_0.preferred_language,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
üìß OTP for charangc17@gmail.com: 777575
üìß Attempting to send OTP email to: charangc17@gmail.com
üîê OTP Code: 777575
üì® Email Content:
Dear User,

Your verification code for Education Platform is: 777575

This OTP is valid for 5 minutes. Please do not share this code with anyone.

If you didn't request this verification, please ignore this email.

Best regards,
Education Platform Team
============================================================
‚úÖ OTP email sent successfully to: charangc17@gmail.com
üìß OTP sent successfully to: charangc17@gmail.com
2025-09-21T21:39:16.053+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/register
2025-09-21T21:39:16.058+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/register
2025-09-21T21:39:16.059+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-09-21T21:39:16.060+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/register
‚úÖ OTP validated successfully for email: charangc17@gmail.com
2025-09-21T21:39:16.065+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-3] org.hibernate.SQL                        : 
    /* <criteria> */ select
        u1_0.user_id,
        u1_0.class_level,
        u1_0.created_at,
        u1_0.district,
        u1_0.email,
        u1_0.is_guest,
        u1_0.name,
        u1_0.password,
        u1_0.phone,
        u1_0.preferred_language,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-09-21T21:39:16.070+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-3] org.hibernate.SQL                        : 
    /* <criteria> */ select
        u1_0.user_id,
        u1_0.class_level,
        u1_0.created_at,
        u1_0.district,
        u1_0.email,
        u1_0.is_guest,
        u1_0.name,
        u1_0.password,
        u1_0.phone,
        u1_0.preferred_language,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-09-21T21:39:16.170+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-3] org.hibernate.SQL                        : 
    /* insert for
        com.education.education.entity.User */insert 
    into
        users (class_level, created_at, district, email, is_guest, name, password, phone, preferred_language, role, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
‚úÖ User registered successfully with email verification: charangc17@gmail.com
2025-09-21T21:39:39.855+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/quiz/available
2025-09-21T21:39:39.855+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/quiz/available
2025-09-21T21:39:39.860+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/quiz/available
2025-09-21T21:39:39.861+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-09-21T21:39:39.861+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/quiz/available
2025-09-21T21:39:39.913+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-6] org.hibernate.SQL                        : 
    /* SELECT
        q 
    FROM
        Quiz q 
    WHERE
        q.isActive = true 
        AND (
            q.targetClass = :targetClass 
            OR q.targetClass = 'all'
        ) */ select
            q1_0.quiz_id,
            q1_0.created_at,
            q1_0.description,
            q1_0.is_active,
            q1_0.questions_json,
            q1_0.target_class,
            q1_0.title,
            q1_0.updated_at 
        from
            quizzes q1_0 
        where
            q1_0.is_active=true 
            and (
                q1_0.target_class=? 
                or q1_0.target_class='all'
            )
2025-09-21T21:39:39.921+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-6] org.hibernate.SQL                        : 
    select
        a1_0.quiz_id,
        a1_0.attempt_id,
        a1_0.answers_json,
        a1_0.recommended_streams,
        a1_0.score,
        a1_0.timestamp,
        a1_0.user_id 
    from
        quiz_attempts a1_0 
    where
        a1_0.quiz_id=?
2025-09-21T21:39:39.933+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.class_level,
        u1_0.created_at,
        u1_0.district,
        u1_0.email,
        u1_0.is_guest,
        u1_0.name,
        u1_0.password,
        u1_0.phone,
        u1_0.preferred_language,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-09-21T21:39:39.934+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-6] org.hibernate.SQL                        : 
    select
        qa1_0.user_id,
        qa1_0.attempt_id,
        qa1_0.answers_json,
        qa1_0.quiz_id,
        qa1_0.recommended_streams,
        qa1_0.score,
        qa1_0.timestamp 
    from
        quiz_attempts qa1_0 
    where
        qa1_0.user_id=?
2025-09-21T21:39:39.938+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/quiz/available
2025-09-21T21:39:39.938+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-09-21T21:39:39.938+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/quiz/available
2025-09-21T21:39:39.941+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-7] org.hibernate.SQL                        : 
    /* SELECT
        q 
    FROM
        Quiz q 
    WHERE
        q.isActive = true 
        AND (
            q.targetClass = :targetClass 
            OR q.targetClass = 'all'
        ) */ select
            q1_0.quiz_id,
            q1_0.created_at,
            q1_0.description,
            q1_0.is_active,
            q1_0.questions_json,
            q1_0.target_class,
            q1_0.title,
            q1_0.updated_at 
        from
            quizzes q1_0 
        where
            q1_0.is_active=true 
            and (
                q1_0.target_class=? 
                or q1_0.target_class='all'
            )
2025-09-21T21:39:39.943+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.quiz_id,
        a1_0.attempt_id,
        a1_0.answers_json,
        a1_0.recommended_streams,
        a1_0.score,
        a1_0.timestamp,
        a1_0.user_id 
    from
        quiz_attempts a1_0 
    where
        a1_0.quiz_id=?
2025-09-21T21:39:39.945+05:30  WARN 90714 --- [education] [0.0-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Ignoring exception, response committed already: org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Document nesting depth (1001) exceeds the maximum allowed (1000, from `StreamWriteConstraints.getMaxNestingDepth()`)
2025-09-21T21:39:39.945+05:30  WARN 90714 --- [education] [0.0-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Document nesting depth (1001) exceeds the maximum allowed (1000, from `StreamWriteConstraints.getMaxNestingDepth()`)]
2025-09-21T21:39:39.946+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.class_level,
        u1_0.created_at,
        u1_0.district,
        u1_0.email,
        u1_0.is_guest,
        u1_0.name,
        u1_0.password,
        u1_0.phone,
        u1_0.preferred_language,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-09-21T21:39:39.948+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-7] org.hibernate.SQL                        : 
    select
        qa1_0.user_id,
        qa1_0.attempt_id,
        qa1_0.answers_json,
        qa1_0.quiz_id,
        qa1_0.recommended_streams,
        qa1_0.score,
        qa1_0.timestamp 
    from
        quiz_attempts qa1_0 
    where
        qa1_0.user_id=?
2025-09-21T21:39:39.951+05:30  WARN 90714 --- [education] [0.0-8080-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Ignoring exception, response committed already: org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Document nesting depth (1001) exceeds the maximum allowed (1000, from `StreamWriteConstraints.getMaxNestingDepth()`)
2025-09-21T21:39:39.952+05:30  WARN 90714 --- [education] [0.0-8080-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Document nesting depth (1001) exceeds the maximum allowed (1000, from `StreamWriteConstraints.getMaxNestingDepth()`)]
2025-09-21T21:39:51.191+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/quiz/submit-with-ai
2025-09-21T21:39:51.194+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/quiz/submit-with-ai
2025-09-21T21:39:51.195+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-09-21T21:39:51.195+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/quiz/submit-with-ai
Submitting quiz for userId: 31, quizId: 1
2025-09-21T21:39:51.210+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-9] org.hibernate.SQL                        : 
    select
        q1_0.quiz_id,
        q1_0.created_at,
        q1_0.description,
        q1_0.is_active,
        q1_0.questions_json,
        q1_0.target_class,
        q1_0.title,
        q1_0.updated_at 
    from
        quizzes q1_0 
    where
        q1_0.quiz_id=?
2025-09-21T21:39:51.219+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.class_level,
        u1_0.created_at,
        u1_0.district,
        u1_0.email,
        u1_0.is_guest,
        u1_0.name,
        u1_0.password,
        u1_0.phone,
        u1_0.preferred_language,
        u1_0.role,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-09-21T21:39:51.225+05:30 DEBUG 90714 --- [education] [0.0-8080-exec-9] org.hibernate.SQL                        : 
    /* insert for
        com.education.education.entity.QuizAttempt */insert 
    into
        quiz_attempts (answers_json, quiz_id, recommended_streams, score, timestamp, user_id) 
    values
        (?, ?, ?, ?, ?, ?)
Quiz submission successful, result: com.education.education.dto.QuizResultDto@21f5442f
Calling Gemini AI service...
üéØ Starting Gemini AI recommendation generation...
üìä User Profile: {score=4, scoreBreakdown=com.education.education.dto.QuizResultDto$ScoreBreakdown@71ac5e15, userInfo=Student Profile: Name: suman hm, Phone: null, District: shimoga, Class: 12th, recommendedStreams=[Science (Based on Mathematical strength)], percentage=15.384615384615385, district=shimoga, performanceLevel=Needs Improvement, state=Karnataka, maxScore=26, classLevel=12th, quizTitle=General Aptitude Assessment}
üìù Generated prompt length: 1744 characters
üöÄ Calling Gemini API...
üîë API Key configured: AIzaSyD7Bl...
üåê API URL: https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent
üì§ Sending request to Gemini...
üì• Received response status: 200 OK
‚úÖ Successfully extracted AI response
‚úÖ Received Gemini response length: 2487 characters
ü§ñ Raw Gemini response preview: ```json
{
  "topColleges": [
    {
      "name": "University of Mysore",
      "location": "Mysore, Karnataka",
      "type": "Government",
      "tier": "Excellent",
      "coursesRecommended": ["B.S
üîç Parsing Gemini response...
üìã Raw response (first 500 chars): ```json
{
  "topColleges": [
    {
      "name": "University of Mysore",
      "location": "Mysore, Karnataka",
      "type": "Government",
      "tier": "Excellent",
      "coursesRecommended": ["B.Sc"],
      "admissionProcess": "Merit based on CET",
      "estimatedFees": "‚Çπ10,000 - ‚Çπ20,000 per year",
      "placementHighlights": "Moderate placements",
      "whyRecommended": "Reputable government university, relatively close to Shimoga"
    },
    {
      "name": "Kuvempu University",
      
üìã Extracted JSON (first 300 chars): {
  "topColleges": [
    {
      "name": "University of Mysore",
      "location": "Mysore, Karnataka",
      "type": "Government",
      "tier": "Excellent",
      "coursesRecommended": ["B.Sc"],
      "admissionProcess": "Merit based on CET",
      "estimatedFees": "‚Çπ10,000 - ‚Çπ20,000 per year",
  
üìä Number of colleges in AI response: 5
‚úÖ Successfully parsed AI recommendations!
AI recommendations received
2025-09-21T21:43:04.796+05:30  WARN 90714 --- [education] [l-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m53s275ms).
2025-09-21T22:50:54.513+05:30  WARN 90714 --- [education] [l-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h7m49s718ms).
2025-09-21T23:02:49.305+05:30  WARN 90714 --- [education] [l-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=11m54s791ms).
2025-09-21T23:47:14.485+05:30  WARN 90714 --- [education] [l-1:housekeeper] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@4cc277bc (This connection has been closed.). Possibly consider using a shorter maxLifetime value.
2025-09-21T23:47:14.573+05:30  INFO 90714 --- [education] [ionShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-09-21T23:47:14.588+05:30  INFO 90714 --- [education] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-09-21T23:47:15.671+05:30  INFO 90714 --- [education] [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-21T23:47:15.683+05:30  INFO 90714 --- [education] [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-09-21T23:47:15.799+05:30  INFO 90714 --- [education] [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
